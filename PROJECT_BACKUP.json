{
  "info": "This is a text-based backup of the project source code. You can use this to restore files if needed.",
  "timestamp": "2026-02-25T09:00:30Z",
  "files": {
    "App.tsx": "import React, { useState, useEffect } from 'react';\nimport { Post, Period, ToneOfVoice, ContentGoal, ContentPlan, PostStatus, ContentHistoryItem } from './types';\nimport { generateAnalysis, generateContentPlan, editPostContent } from './geminiService';\nimport { sendToTelegram } from './telegramService';\nimport WizardForm from './WizardForm';\nimport PostCard from './PostCard';\nimport PublishDialog from './PublishDialog';\nimport AnalysisBoard from './AnalysisBoard';\n\ndeclare global {\n  interface Window {\n    Telegram: any;\n  }\n}\n\nconst App: React.FC = () => {\n  const [step, setStep] = useState<'form' | 'dashboard'>('form');\n  const [loadingStage, setLoadingStage] = useState<number>(-1);\n  const [plan, setPlan] = useState<ContentPlan | null>(null);\n  const [showPublishDialog, setShowPublishDialog] = useState(false);\n  const [history, setHistory] = useState<ContentHistoryItem[]>([]);\n  const [isTelegram, setIsTelegram] = useState(false);\n\n  useEffect(() => {\n    if (window.Telegram?.WebApp) {\n      const tg = window.Telegram.WebApp;\n      tg.ready();\n      tg.expand();\n      tg.enableClosingConfirmation();\n      tg.headerColor = '#0f172a';\n      tg.backgroundColor = '#0f172a';\n      setIsTelegram(true);\n    }\n\n    const savedHistory = localStorage.getItem('cf_content_history');\n    if (savedHistory) {\n      try {\n        setHistory(JSON.parse(savedHistory));\n      } catch (e) { console.error(\"History load error\", e); }\n    }\n  }, []);\n\n  const loadingSteps = [\n    \"Глубокий анализ ниши и конкурентов...\",\n    \"Проверка истории для исключения дублей...\",\n    \"Определение стратегии под вашу цель...\",\n    \"Генерация уникального плана и сценариев...\",\n    \"Создание и адаптация визуального ряда...\"\n  ];\n\n  const handleFormSubmit = async (data: { niche: string, period: Period, tone: ToneOfVoice, goal: ContentGoal, files: File[] }) => {\n    setLoadingStage(0);\n    try {\n      const analysis = await generateAnalysis(data.niche);\n      setLoadingStage(2);\n      const posts = await generateContentPlan(data.niche, data.period, data.tone, data.goal, analysis, history, data.files);\n      setLoadingStage(4);\n      \n      setPlan({ ...data, posts, analysis });\n      setStep('dashboard');\n      \n      const newHistoryItem = { niche: data.niche, title: posts[0]?.title || '' };\n      const updatedHistory = [...history, newHistoryItem].slice(-20);\n      setHistory(updatedHistory);\n      localStorage.setItem('cf_content_history', JSON.stringify(updatedHistory));\n    } catch (error: any) {\n      console.error(\"Generation Error:\", error);\n      const errorMessage = error.message || \"Неизвестная ошибка\";\n      alert(`Ошибка генерации: ${errorMessage}. Проверьте API ключ и соединение.`);\n    } finally {\n      setLoadingStage(-1);\n    }\n  };\n\n  const handleApprove = (id: string) => {\n    if (!plan) return;\n    setPlan({\n      ...plan,\n      posts: plan.posts.map(p => p.id === id ? { ...p, status: PostStatus.APPROVED } : p)\n    });\n    if (window.Telegram?.WebApp) window.Telegram.WebApp.HapticFeedback.impactOccurred('medium');\n  };\n\n  const handleEdit = async (id: string, feedback: string) => {\n    if (!plan) return;\n    setLoadingStage(3);\n    try {\n      const post = plan.posts.find(p => p.id === id);\n      if (post) {\n        const updatedPost = await editPostContent(post, feedback);\n        setPlan({\n          ...plan,\n          posts: plan.posts.map(p => p.id === id ? updatedPost : p)\n        });\n      }\n    } catch (e) {\n      alert(\"Ошибка при редактировании.\");\n    } finally {\n      setLoadingStage(-1);\n    }\n  };\n\n  const approvedPosts = plan?.posts.filter(p => p.status === PostStatus.APPROVED) || [];\n\n  const handleConfirmPublish = async (config: { botToken: string, chatId: string }) => {\n    if (approvedPosts.length === 0) return;\n    setLoadingStage(0);\n    try {\n      await sendToTelegram(config.botToken, config.chatId, approvedPosts);\n      if (plan) {\n        setPlan({\n          ...plan,\n          posts: plan.posts.map(p => \n            approvedPosts.some(ap => ap.id === p.id) ? { ...p, status: PostStatus.PUBLISHED } : p\n          )\n        });\n      }\n      setShowPublishDialog(false);\n      if (window.Telegram?.WebApp) {\n        window.Telegram.WebApp.showAlert(\"Успешно! Все посты отправлены.\");\n      } else {\n        alert(\"Успешно!\");\n      }\n    } catch (e: any) {\n      alert(\"Ошибка: \" + e.message);\n    } finally {\n      setLoadingStage(-1);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-[#0f172a] text-slate-200 font-sans selection:bg-cyan-500/30\">\n      {loadingStage >= 0 && (\n        <div className=\"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-slate-950/90 backdrop-blur-xl animate-fade-in\">\n          <div className=\"relative w-32 h-32 mb-10\">\n            <div className=\"absolute inset-0 rounded-full border-4 border-cyan-500/20 border-t-cyan-500 animate-spin\"></div>\n            <div className=\"absolute inset-4 rounded-full border-4 border-blue-600/20 border-b-blue-600 animate-spin-slow\"></div>\n          </div>\n          <p className=\"text-xl font-black gradient-text uppercase tracking-widest animate-pulse text-center px-6 leading-relaxed\">\n            {loadingStage < loadingSteps.length ? loadingSteps[loadingStage] : \"Интеллектуальная обработка...\"}\n          </p>\n        </div>\n      )}\n\n      <main className=\"container mx-auto pb-32\">\n        {step === 'form' ? (\n          <WizardForm onSubmit={handleFormSubmit} isLoading={loadingStage >= 0} />\n        ) : (\n          <div className=\"px-4 pt-10 animate-fade-in\">\n            <div className=\"flex flex-col md:flex-row justify-between items-end mb-12 gap-6\">\n              <div>\n                <button \n                  onClick={() => setStep('form')}\n                  className=\"group flex items-center gap-2 text-slate-500 hover:text-cyan-400 transition-colors mb-4 uppercase text-[10px] font-black tracking-widest\"\n                >\n                  <svg className=\"w-4 h-4 transition-transform group-hover:-translate-x-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"3\" d=\"M15 19l-7-7 7-7\" />\n                  </svg>\n                  Вернуться к настройкам\n                </button>\n                <h2 className=\"text-5xl font-black text-white tracking-tighter italic\">\n                  План для: <span className=\"gradient-text\">{plan?.niche}</span>\n                </h2>\n              </div>\n              <div className=\"flex gap-4\">\n                 <div className=\"px-6 py-3 bg-slate-900 rounded-2xl border border-white/5 text-xs font-bold uppercase tracking-widest text-slate-400\">\n                    {plan?.posts.length} Дней\n                 </div>\n                 <div className=\"px-6 py-3 bg-cyan-500/10 border border-cyan-500/20 rounded-2xl text-xs font-bold uppercase tracking-widest text-cyan-400\">\n                    Цель: {plan?.goal}\n                 </div>\n              </div>\n            </div>\n\n            {plan?.analysis && <AnalysisBoard data={plan.analysis} />}\n\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n              {plan?.posts.map(post => (\n                <PostCard \n                  key={post.id} \n                  post={post} \n                  onApprove={handleApprove} \n                  onEdit={handleEdit} \n                />\n              ))}\n            </div>\n          </div>\n        )}\n      </main>\n\n      {/* Global Action Button */}\n      {step === 'dashboard' && approvedPosts.length > 0 && (\n        <div className=\"fixed bottom-0 inset-x-0 p-6 z-40 bg-gradient-to-t from-slate-950 via-slate-950/80 to-transparent pt-12 animate-fade-in\">\n          <button\n            onClick={() => setShowPublishDialog(true)}\n            className=\"w-full max-w-2xl mx-auto block py-6 rounded-[2.5rem] font-black text-xl bg-gradient-to-r from-cyan-400 via-blue-600 to-indigo-800 text-white uppercase tracking-[0.3em] shadow-[0_20px_50px_-10px_rgba(6,182,212,0.6)] hover:shadow-[0_25px_60px_-5px_rgba(6,182,212,0.8)] transition-all hover:-translate-y-2 active:scale-[0.98] border-t border-white/20 relative overflow-hidden group\"\n          >\n            <div className=\"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 skew-x-[-20deg]\"></div>\n            <span className=\"relative z-10 flex items-center justify-center gap-4\">\n               <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2.5\" d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" /></svg>\n               Опубликовать в ТГ ({approvedPosts.length})\n            </span>\n          </button>\n        </div>\n      )}\n\n      {showPublishDialog && (\n        <PublishDialog \n          onConfirm={handleConfirmPublish} \n          onCancel={() => setShowPublishDialog(false)} \n        />\n      )}\n    </div>\n  );\n};\n\nexport default App;",
    "geminiService.ts": "import { GoogleGenAI, Type } from \"@google/genai\";\nimport { Post, Period, ToneOfVoice, ContentGoal, AnalysisData, PostStatus, ContentHistoryItem } from \"./types\";\n\nconst getAI = () => {\n  const apiKey = process.env.API_KEY || process.env.GEMINI_API_KEY;\n  if (!apiKey) {\n    throw new Error(\"API ключ не найден. Проверьте настройки окружения (GEMINI_API_KEY).\");\n  }\n  return new GoogleGenAI({ apiKey });\n};\n\n// Функция для конвертации файла в base64\nconst fileToGenerativePart = async (file: File) => {\n  const base64EncodedDataPromise = new Promise((resolve) => {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve((reader.result as string).split(',')[1]);\n    reader.readAsDataURL(file);\n  });\n  return {\n    inlineData: { data: await base64EncodedDataPromise as string, mimeType: file.type },\n  };\n};\n\nexport const generateAnalysis = async (niche: string): Promise<AnalysisData> => {\n  const ai = getAI();\n  const prompt = `Проведи глубокий анализ ниши \"${niche}\" на русском языке. \n  Найди 3 основных конкурентов, актуальные новости и тренды на текущий момент. \n  Определи, какой контент получает больше всего откликов.`;\n\n  const response = await ai.models.generateContent({\n    model: 'gemini-3-flash-preview',\n    contents: prompt,\n    config: {\n      tools: [{ googleSearch: {} }],\n    },\n  });\n\n  const structuredResponse = await ai.models.generateContent({\n    model: 'gemini-3-flash-preview',\n    contents: `Преврати этот анализ в JSON объект с полями: \n    competitors (массив), \n    trends (массив), \n    summary (текст). \n    Анализ: ${response.text}`,\n    config: {\n      responseMimeType: \"application/json\",\n      responseSchema: {\n        type: Type.OBJECT,\n        properties: {\n          competitors: { type: Type.ARRAY, items: { type: Type.STRING } },\n          trends: { type: Type.ARRAY, items: { type: Type.STRING } },\n          summary: { type: Type.STRING },\n        },\n        required: [\"competitors\", \"trends\", \"summary\"]\n      }\n    }\n  });\n\n  if (!structuredResponse.text) throw new Error(\"Empty AI response\");\n  return JSON.parse(structuredResponse.text);\n};\n\nexport const generateContentPlan = async (\n  niche: string, \n  period: Period, \n  tone: ToneOfVoice, \n  goal: ContentGoal,\n  analysis: AnalysisData,\n  history: ContentHistoryItem[] = [],\n  userFiles: File[] = []\n): Promise<Post[]> => {\n  const ai = getAI();\n  const days = period === Period.WEEK ? 7 : 30;\n\n  const relevantHistory = history.filter(h => h.niche.toLowerCase() === niche.toLowerCase()).map(h => h.title);\n  const historyPrompt = relevantHistory.length > 0 \n    ? `ВАЖНО: Никогда не повторяй эти темы: ${relevantHistory.join(', ')}.`\n    : \"\";\n\n  const prompt = `Создай уникальный контент-план на ${days} дней для ниши \"${niche}\".\n  Цель: ${goal}. \n  Стиль (ToV): ${tone}.\n  Тренды: ${analysis.trends.join(', ')}.\n  ${historyPrompt}\n  Сделай контент максимально специфичным именно для этой ниши. \n  Если цель \"Продажи\" - делай упор на боли и решение. \n  Если \"Доверие\" - на кейсы и экспертность.\n  Верни результат как JSON массив объектов.`;\n\n  const response = await ai.models.generateContent({\n    model: 'gemini-3.1-pro-preview',\n    contents: prompt,\n    config: {\n      responseMimeType: \"application/json\",\n      responseSchema: {\n        type: Type.ARRAY,\n        items: {\n          type: Type.OBJECT,\n          properties: {\n            title: { type: Type.STRING },\n            type: { type: Type.STRING, enum: [\"Post\", \"Reels\", \"Story\"] },\n            content: { type: Type.STRING },\n            script: { type: Type.STRING },\n            day: { type: Type.NUMBER },\n            imagePrompt: { type: Type.STRING, description: \"Detailed description for image generation\" }\n          },\n          required: [\"title\", \"type\", \"content\", \"day\", \"imagePrompt\"]\n        }\n      }\n    }\n  });\n\n  if (!response.text) throw new Error(\"Empty AI plan response\");\n  const rawPosts = JSON.parse(response.text);\n  \n  // Для каждого поста генерируем уникальное изображение\n  const postsWithImages = await Promise.all(rawPosts.map(async (p: any, index: number) => {\n    let imageUrl = '';\n    try {\n      const imgResponse = await ai.models.generateContent({\n        model: 'gemini-2.5-flash-image',\n        contents: {\n          parts: [\n            ...(userFiles.length > 0 ? [await fileToGenerativePart(userFiles[index % userFiles.length])] : []),\n            { text: `Generate a high-quality unique image for a social media post. Topic: ${p.title}. Description: ${p.imagePrompt}. Ensure the style is ${tone}. ${userFiles.length > 0 ? \"Incorporate the visual style/elements from the provided image.\" : \"\"}` }\n          ]\n        },\n        config: {\n          imageConfig: { aspectRatio: \"1:1\" }\n        }\n      });\n\n      for (const part of imgResponse.candidates[0].content.parts) {\n        if (part.inlineData) {\n          imageUrl = `data:image/png;base64,${part.inlineData.data}`;\n          break;\n        }\n      }\n    } catch (e) {\n      console.warn(\"Image gen failed for post\", index, e);\n      imageUrl = `https://picsum.photos/seed/${Math.random()}/800/800`;\n    }\n\n    return {\n      ...p,\n      id: Math.random().toString(36).substr(2, 9),\n      date: new Date(Date.now() + index * 24 * 60 * 60 * 1000).toLocaleDateString('ru-RU'),\n      status: PostStatus.PENDING,\n      editCount: 0,\n      imageUrl\n    };\n  }));\n\n  return postsWithImages;\n};\n\nexport const editPostContent = async (post: Post, feedback: string): Promise<Post> => {\n  const ai = getAI();\n  const prompt = `Отредактируй пост \"${post.title}\" на основе обратной связи: \"${feedback}\". \n  Учти предыдущий контент: ${post.content}. \n  Верни обновленный JSON объект.`;\n\n  const response = await ai.models.generateContent({\n    model: 'gemini-3-flash-preview',\n    contents: prompt,\n    config: {\n      responseMimeType: \"application/json\",\n      responseSchema: {\n        type: Type.OBJECT,\n        properties: {\n          content: { type: Type.STRING },\n          script: { type: Type.STRING },\n          imagePrompt: { type: Type.STRING }\n        },\n        required: [\"content\"]\n      }\n    }\n  });\n\n  if (!response.text) throw new Error(\"Empty AI edit response\");\n  const updated = JSON.parse(response.text);\n  \n  // При редактировании тоже обновляем картинку\n  let newImageUrl = post.imageUrl;\n  try {\n     const imgUpdate = await ai.models.generateContent({\n        model: 'gemini-2.5-flash-image',\n        contents: `Update/Generate a new image for: ${updated.imagePrompt || post.title}. Feedback: ${feedback}`,\n        config: { imageConfig: { aspectRatio: \"1:1\" } }\n     });\n     for (const part of imgUpdate.candidates[0].content.parts) {\n        if (part.inlineData) {\n          newImageUrl = `data:image/png;base64,${part.inlineData.data}`;\n          break;\n        }\n      }\n  } catch(e) {}\n\n  return {\n    ...post,\n    content: updated.content,\n    script: updated.script || post.script,\n    imageUrl: newImageUrl,\n    editCount: post.editCount + 1,\n    status: PostStatus.PENDING\n  };\n};",
    "WizardForm.tsx": "import React, { useState } from 'react';\nimport { Period, ToneOfVoice, ContentGoal } from './types';\n\ninterface Props {\n  onSubmit: (data: { niche: string, period: Period, tone: ToneOfVoice, goal: ContentGoal, files: File[] }) => void;\n  isLoading: boolean;\n}\n\nconst WizardForm: React.FC<Props> = ({ onSubmit, isLoading }) => {\n  const [niche, setNiche] = useState('');\n  const [period, setPeriod] = useState<Period>(Period.WEEK);\n  const [tone, setTone] = useState<ToneOfVoice>(ToneOfVoice.FRIENDLY);\n  const [goal, setGoal] = useState<ContentGoal>(ContentGoal.ACQUISITION);\n  const [files, setFiles] = useState<File[]>([]);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      setFiles(Array.from(e.target.files));\n    }\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!niche) return;\n    onSubmit({ niche, period, tone, goal, files });\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-8 animate-fade-in max-w-2xl mx-auto py-8 px-4\">\n      <div className=\"text-center mb-10\">\n        <div className=\"inline-block px-5 py-2 rounded-full bg-cyan-500/10 border border-cyan-500/30 text-cyan-400 text-[10px] font-black uppercase tracking-[0.4em] mb-6 animate-pulse shadow-[0_0_20px_rgba(6,182,212,0.1)]\">\n          FACTORY ENGINE v6.0 • ULTRA POWERED\n        </div>\n        <h1 className=\"text-6xl md:text-7xl font-black mb-4 gradient-text tracking-tighter italic filter drop-shadow-2xl\">\n          ContentFactory\n        </h1>\n        <p className=\"text-slate-400 font-bold leading-relaxed max-w-md mx-auto text-[10px] uppercase tracking-[0.25em] opacity-70\">\n          Интеллектуальный конвейер вирального контента\n        </p>\n      </div>\n\n      <div className=\"glass p-8 md:p-12 rounded-[3rem] space-y-8 neon-border relative overflow-hidden shadow-[0_0_50px_rgba(0,0,0,0.3)]\">\n        <div className=\"absolute -top-32 -right-32 w-80 h-80 bg-cyan-500/15 blur-[120px] rounded-full animate-pulse\"></div>\n        <div className=\"absolute -bottom-32 -left-32 w-80 h-80 bg-indigo-600/15 blur-[120px] rounded-full animate-pulse\"></div>\n\n        <div className=\"relative z-10\">\n          <label className=\"block text-[10px] font-black text-cyan-400/90 uppercase tracking-[0.3em] mb-4 ml-2\">Ниша или Личный бренд</label>\n          <input\n            type=\"text\"\n            placeholder=\"Психолог, крипто-инвестор, кофейня...\"\n            className=\"w-full bg-slate-950/70 border-2 border-slate-800/80 rounded-[1.5rem] px-7 py-5 focus:outline-none focus:border-cyan-500 focus:ring-4 focus:ring-cyan-500/10 text-white placeholder-slate-700 transition-all font-bold text-xl shadow-inner\"\n            value={niche}\n            onChange={(e) => setNiche(e.target.value)}\n            required\n          />\n        </div>\n\n        <div className=\"relative z-10\">\n          <label className=\"block text-[10px] font-black text-cyan-400/90 uppercase tracking-[0.3em] mb-4 ml-2\">Главная цель контента</label>\n          <div className=\"relative group\">\n            <select\n              value={goal}\n              onChange={(e) => setGoal(e.target.value as ContentGoal)}\n              className=\"w-full bg-slate-950/70 border-2 border-slate-800/80 rounded-[1.5rem] px-7 py-5 text-white font-black text-lg appearance-none cursor-pointer focus:border-cyan-500 transition-all hover:bg-slate-900 shadow-xl group-hover:border-slate-700\"\n            >\n              {Object.values(ContentGoal).map(g => (\n                <option key={g} value={g} className=\"bg-slate-950 text-white py-4 font-bold\">{g}</option>\n              ))}\n            </select>\n            <div className=\"absolute right-7 top-1/2 -translate-y-1/2 pointer-events-none text-cyan-500 transition-transform group-hover:translate-y-[-40%]\">\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"3\" d=\"M19 9l-7 7-7-7\" />\n              </svg>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 relative z-10\">\n          <div>\n            <label className=\"block text-[10px] font-black text-cyan-400/90 uppercase tracking-[0.3em] mb-4 ml-2\">Период планирования</label>\n            <div className=\"flex bg-slate-950/70 p-1.5 rounded-[1.25rem] border-2 border-slate-800/80 shadow-inner\">\n              {Object.values(Period).map(p => (\n                <button\n                  key={p}\n                  type=\"button\"\n                  onClick={() => setPeriod(p)}\n                  className={`flex-1 py-4 rounded-xl text-[11px] font-black transition-all uppercase tracking-[0.2em] ${\n                    period === p \n                    ? 'bg-gradient-to-r from-cyan-500 to-blue-600 text-white shadow-[0_4px_15px_rgba(6,182,212,0.4)] scale-100' \n                    : 'text-slate-500 hover:text-slate-300'\n                  }`}\n                >\n                  {p}\n                </button>\n              ))}\n            </div>\n          </div>\n          <div>\n            <label className=\"block text-[10px] font-black text-cyan-400/90 uppercase tracking-[0.3em] mb-4 ml-2\">Тон общения (ToV)</label>\n            <div className=\"relative group\">\n              <select\n                className=\"w-full bg-slate-950/70 border-2 border-slate-800/80 rounded-[1.25rem] px-6 py-4 text-white focus:outline-none focus:border-cyan-500 font-black appearance-none cursor-pointer h-[62px] shadow-inner text-sm uppercase tracking-widest group-hover:border-slate-700 transition-all\"\n                value={tone}\n                onChange={(e) => setTone(e.target.value as ToneOfVoice)}\n              >\n                {Object.values(ToneOfVoice).map(t => (\n                  <option key={t} value={t} className=\"bg-slate-950 font-black\">{t}</option>\n                ))}\n              </select>\n              <div className=\"absolute right-6 top-1/2 -translate-y-1/2 pointer-events-none text-cyan-500 transition-transform group-hover:translate-y-[-40%]\">\n                <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"3\" d=\"M19 9l-7 7-7-7\" />\n                </svg>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"relative z-10\">\n          <label className=\"block text-[10px] font-black text-cyan-400/90 uppercase tracking-[0.3em] mb-4 ml-2\">Медиа-исходники</label>\n          <div className=\"group relative border-2 border-dashed border-slate-700/40 rounded-[2rem] p-10 text-center hover:border-cyan-500/60 transition-all cursor-pointer bg-slate-950/60 shadow-inner overflow-hidden\">\n            <div className=\"absolute inset-0 bg-cyan-500/[0.02] opacity-0 group-hover:opacity-100 transition-opacity\"></div>\n            <input\n              type=\"file\"\n              multiple\n              onChange={handleFileChange}\n              className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\n            />\n            <div className=\"flex flex-col items-center justify-center gap-5\">\n               <div className=\"w-20 h-20 bg-gradient-to-br from-cyan-500/10 to-blue-600/10 rounded-[1.5rem] flex items-center justify-center text-cyan-500 group-hover:scale-110 group-hover:rotate-3 transition-all duration-500 border border-cyan-500/20 shadow-lg\">\n                  <svg className=\"w-10 h-10\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"1.5\" d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" />\n                  </svg>\n               </div>\n               <div className=\"space-y-2\">\n                <p className=\"text-white font-black text-base uppercase tracking-[0.15em]\">\n                  {files.length > 0 ? `Активно файлов: ${files.length}` : 'Загрузить RAW материалы'}\n                </p>\n                <p className=\"text-[10px] text-slate-500 font-black uppercase tracking-[0.2em]\">Нейросеть адаптирует контент под ваш визуал</p>\n               </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <button\n        type=\"submit\"\n        disabled={isLoading}\n        className=\"w-full py-8 rounded-[2.5rem] font-black text-3xl bg-gradient-to-r from-cyan-400 via-blue-600 to-indigo-800 text-white disabled:opacity-50 uppercase tracking-[0.4em] shadow-[0_20px_60px_-15px_rgba(6,182,212,0.5)] hover:shadow-[0_30px_80px_-10px_rgba(6,182,212,0.7)] transition-all hover:-translate-y-2 active:scale-[0.97] relative overflow-hidden group border-t border-white/20\"\n      >\n        <div className=\"absolute inset-0 bg-white/30 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000 skew-x-[-20deg]\"></div>\n        <span className=\"relative z-10 drop-shadow-lg italic\">{isLoading ? 'ЗАПУСК...' : 'ЗАПУСТИТЬ ЗАВОД'}</span>\n      </button>\n    </form>\n  );\n};\n\nexport default WizardForm;",
    "types.ts": "export enum Period {\n  WEEK = 'Неделя',\n  MONTH = 'Месяц'\n}\n\nexport enum ToneOfVoice {\n  FRIENDLY = 'Дружелюбный',\n  CREATIVE = 'Креативный',\n  PROFESSIONAL = 'Профессиональный',\n  STRICT = 'Строгий',\n  HUMOROUS = 'С юмором'\n}\n\nexport enum ContentGoal {\n  ACQUISITION = 'Привлечение клиентов',\n  RETENTION = 'Удержание аудитории',\n  TRUST = 'Создание доверия',\n  SALES = 'Продажа продукта/услуги'\n}\n\nexport enum PostStatus {\n  PENDING = 'На согласовании',\n  APPROVED = 'Согласовано',\n  EDITING = 'Редактируется',\n  PUBLISHED = 'Опубликовано'\n}\n\nexport interface Post {\n  id: string;\n  day: number;\n  date: string;\n  title: string;\n  type: 'Post' | 'Reels' | 'Story';\n  content: string;\n  script?: string;\n  imageUrl?: string;\n  status: PostStatus;\n  editCount: number;\n  feedback?: string;\n}\n\nexport interface AnalysisData {\n  competitors: string[];\n  trends: string[];\n  summary: string;\n}\n\nexport interface ContentPlan {\n  niche: string;\n  period: Period;\n  tone: ToneOfVoice;\n  goal: ContentGoal;\n  posts: Post[];\n  analysis?: AnalysisData;\n}\n\nexport interface ContentHistoryItem {\n  niche: string;\n  title: string;\n}"
  }
}
